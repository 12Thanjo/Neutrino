$pending_plugins.set('DOM',()=>{let plugin={};let to_camel_case=function(prop){let output="";let $arr_length=prop.length;for(var i=0;i<$arr_length;i++){if(prop[i]=="-"){i+=1;output+=prop[i].toLocaleUpperCase();;}else{output+=prop[i];};};return output;};let DOMElement=function(elem){let private={};this.element=elem;this.on=function(event,callback){this.element.addEventListener(event,callback);return this;};this.isReady=function(){return this.element.readyState!=null&&this.element.readyState!="loading";};this.ready=function(callback){if(this.isReady()){callback();}else{this.on('DOMContentLoaded',callback);};};this.getNext=function(){return new DOMElement(this.element.nextElementSibling);};this.next=function(){this.element=this.element.nextElementSibling;return this;};this.getPrevious=function(){return new DOMElement(this.element.previousElementSibling);};this.previous=function(){this.element=this.element.previousElementSibling;return this;};this.addClass=function(className){this.element.classList.add(className);return this;};this.removeClass=function(className){this.element.classList.remove(className);return this;};this.getStyle=function(prop){return this.element.style[prop];};this.style=function(prop,val){prop=to_camel_case(prop);;if(typeof val=="number"){this.element.style[prop]=val+"px";}else{this.element.style[prop]=val;};return this;};this.css=function(props){for(let key in props){let value=props[key];if(typeof value=="number"){this.element.style[key]=value+"px";}else{this.element.style[key]=value;};};return this;};this.select=function(query){return new DOMCollection([...this.element.querySelectorAll(":scope > "+query)]);};this.selectAll=function(query){return new DOMCollection([...this.element.querySelectorAll(query)]);};Object.defineProperty(this,'innerHTML',{get:function(){return this.element.innerHTML;},set:function(val){this.element.innerHTML=val;return val;}});Object.defineProperty(this,'width',{get:function(){return this.element.clientWidth;},set:function(val){this.element.style.width=val+"px";}});Object.defineProperty(this,'height',{get:function(){return this.element.clientHeight;},set:function(val){this.element.style.height=val+"px";}});Object.defineProperty(this,'x',{get:function(){return this.element.offsetLeft;},set:function(val){this.element.style.position='absolute';this.element.style.left=val+"px";}});Object.defineProperty(this,'y',{get:function(){return this.element.offsetTop;},set:function(val){this.element.style.position='absolute';this.element.style.top=val+"px";}});this.appendChild=function(child){this.element.appendChild(child);};this.destroy=function(){this.element.remove();};};let DOMCollection=function(arr){let private={};for(var[i,elem]of arr.entries()){arr[i]=new DOMElement(elem);};this.array=arr;this.on=function(event,callback){for(var[i,elem]of this.array.entries()){elem.on(event,callback);};return this;};this.ready=function(callback){let is_ready=this.array.some((elem)=>{return elem.isReady();});;if(is_ready){callback();}else{this.on('DOMContentLoaded',callback);};};this.addElement=function(domElement){if(domElement instanceof DOMElement){this.array.push(domElement);return this;}else{console.error("DOMCollection.addElement must take a domElement");};};this.removeElement=function(domElement){for(var[i,elem]of this.array.entries()){if(elem==domElement){this.array.splice(i,1);break;};};return this;};this.next=function(){for(var[i,elem]of this.array.entries()){elem.next();};};this.prev=function(){for(var[i,elem]of this.array.entries()){elem.prev();};};this.addClass=function(className){for(var[i,elem]of this.array.entries()){elem.addClass(className);};return this;};this.removeClass=function(className){for(var[i,elem]of this.array.entries()){elem.removeClass(className);};return this;};this.getStyle=function(prop){let output=[];for(var[i,elem]of this.array.entries()){output.push(elem.getStyle(prop));};return output;};this.style=function(prop,val){for(var[i,elem]of this.array.entries()){elem.style(prop,val);};return this;};this.css=function(props){for(var[i,elem]of this.array.entries()){elem.css(props);};return this;};this.select=function(query){let output=[];for(var[i,elem]of this.array.entries()){let it_target=elem.select(query).array;for(var[key,value]of it_target.entries()){output.push(value.element);};};return new DOMCollection(output);};this.selectAll=function(query){let output=[];for(var[i,elem]of this.array.entries()){let it_target=elem.selectAll(query).array;for(var[key,value]of it_target.entries()){output.push(value.element);};};return new DOMCollection(output);};Object.defineProperty(this,'innerHTML',{get:function(){let output=[];for(var[i,elem]of this.array.entries()){output.push(elem.innerHTML)};return output;},set:function(val){for(var[i,elem]of this.array.entries()){elem.innerHTML=val;};}});Object.defineProperty(this,'width',{get:function(){let output=[];for(var[i,elem]of this.array.entries()){output.push(elem.width)};return output;},set:function(val){for(var[i,elem]of this.array.entries()){elem.width=val;};}});Object.defineProperty(this,'height',{get:function(){let output=[];for(var[i,elem]of this.array.entries()){output.push(elem.height)};return output;},set:function(val){for(var[i,elem]of this.array.entries()){elem.height=val;};}});Object.defineProperty(this,'x',{get:function(){let output=[];for(var[i,elem]of this.array.entries()){output.push(elem.x)};return output;},set:function(val){for(var[i,elem]of this.array.entries()){elem.x=val;};}});Object.defineProperty(this,'y',{get:function(){let output=[];for(var[i,elem]of this.array.entries()){output.push(elem.y)};return output;},set:function(val){for(var[i,elem]of this.array.entries()){elem.y=val;};}});this.destroy=function(){for(var[i,elem]of this.array.entries()){elem.destroy();};};};plugin=function(query){if(typeof query=='string'||query instanceof String){let result=[...document.querySelectorAll(query)];if(result.length==1){return new DOMElement(result[0]);}else if(result.length>1){return new DOMCollection([...result]);};}else{return new DOMCollection([query]);};};plugin.get=function(query){if(typeof query=='string'||query instanceof String){let selector=document.querySelectorAll(query);;if(selector.length>1){console.error("DOM.select only takes 1 element");}else{return new DOMElement(selector[0]);};}else{return new DOMElement(query);};};Object.defineProperty(plugin,'w',{get:function(){return window.innerWidth;}});Object.defineProperty(plugin,'h',{get:function(){return window.innerHeight;}});plugin.vw=function(val){return val/100*window.innerWidth;};plugin.vh=function(val){return val/100*window.innerHeight;};plugin.triggerOnResize=function(){window.dispatchEvent(new Event('resize'));};plugin.onResize=function(event){window.onresize=event;plugin.triggerOnResize();};plugin.createElement=function(type,appendTarget){let elem=document.createElement(type);;appendTarget.appendChild(elem);return new DOMElement(elem);};plugin.metadata={"name":"DOM","version":"0.1.0","description":"DOM manipulation library","main":"index.nt","author":"12Thanjo","dependancies":[]};return plugin;});