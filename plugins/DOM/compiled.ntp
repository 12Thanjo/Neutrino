$pending_plugins.set('DOM',()=>{let plugin={};let to_camel_case=function(prop){let output="";let $arr_length=prop.length;for(var i=0;i<$arr_length;i++){if(prop[i]=="-"){i+=1;output+=prop[i].toLocaleUpperCase();;}else{output+=prop[i];};};return output;};let DOMElement=function(elem){let private={};this.element=elem;this.on=function(event,callback){this.element.addEventListener(event,callback);return this;};this.isReady=function(){return this.element.readyState!=null&&this.element.readyState!="loading";};this.ready=function(callback){if(this.isReady()){callback();}else{this.on('DOMContentLoaded',callback);};};this.getNext=function(){return new DOMElement(this.element.nextElementSibling);};this.next=function(){this.element=this.element.nextElementSibling;return this;};this.getPrevious=function(){return new DOMElement(this.element.previousElementSibling);};this.previous=function(){this.element=this.element.previousElementSibling;return this;};this.addClass=function(className){this.element.classList.add(className);return this;};this.removeClass=function(className){this.element.classList.remove(className);return this;};this.css=function(prop,val){prop=to_camel_case(prop);;this.element.style[prop]=val;return this;};};let DOMCollection=function(arr){let private={};for(var[i,elem]of arr.entries()){arr[i]=new DOMElement(elem);};this.array=arr;this.on=function(event,callback){for(var[i,elem]of this.array.entries()){elem.on(event,callback);};return this;};this.ready=function(callback){let is_ready=this.array.some((elem)=>{return elem.isReady();});;if(is_ready){callback();}else{this.on('DOMContentLoaded',callback);};};this.addElement=function(domElement){if(domElement instanceof DOMElement){this.array.push(domElement);return this;}else{console.error("DOMCollection.addElement must take a domElement");};};this.removeElement=function(domElement){for(var[i,elem]of this.array.entries()){if(elem==domElement){this.array.splice(i,1);break;};};return this;};this.next=function(){for(var[i,elem]of this.array.entries()){elem.next();};};this.prev=function(){for(var[i,elem]of this.array.entries()){elem.prev();};};this.addClass=function(className){for(var[i,elem]of this.array.entries()){elem.addClass(className);};return this;};this.removeClass=function(className){for(var[i,elem]of this.array.entries()){elem.removeClass(className);};return this;};this.css=function(prop,val){for(var[i,elem]of this.array.entries()){elem.css(prop,val);};};};module.exports=function(query){if(typeof query=='string'||query instanceof String){let output=new DOMCollection([...document.querySelectorAll(query)]);return output;}else{let output=new DOMCollection([query]);return output;};};module.exports.get=function(query){if(typeof query=='string'||query instanceof String){let selector=document.querySelectorAll(query);;if(selector.length>1){console.error("DOM.select only takes 1 element");}else{let output=new DOMElement(selector[0]);return output;};}else{let output=new DOMElement(query);return output;};};return plugin;});